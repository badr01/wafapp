<div ng-controller="ListCtrl" >
<h1 class="cover-heading ng-scope">Gestion des sites</h1>
<alert ng-repeat="alert in alerts" type="alert.type" close="closeAlert($index)">{{alert.msg}}</alert>

<br/>
<table ng-table="tableParams"  class="table">
  <thead>
  <tr>
    <th>Nom de domaine</th>
    <th>Ip</th>
    <th>port</th>
    <th>HTTPS</th>
    <th>Mode</th>
    <th>Action</th>
  </tr>
  </thead>
  <tbody>
  <tr ng-repeat="site in sites ">
    <td data-title="'Nom de domaine'">
      <span >{{site.nomDomaine}}</span>
    </td>
    <td data-title="'Ip'">
      <span >{{site.ip}}</span>
    </td>
    <td data-title="'Port'">
      <span >{{site.port}}</span>
    </td>
    <td data-title="'HTTPS'">
      <span ng-if="site.https">Oui</span>
      <span ng-if="!site.https">Non</span>
    </td>
    <td data-title="'mode'">
      <span ng-if="site.mode" class="label label-success">Learning</span>
      <span ng-if="!site.mode" class="label label-danger">Blocking</span>
    </td>
    <td data-title="'Actions'" width="200">
      <a class="btn btn-primary btn-xs" ng-click="open()">Modifier</a>
      <a  ng-click="removeRecord()" class="btn btn-default btn-xs">Supprimer</a>
    </td>
  </tr>
  </tbody>
</table>




<!--Modal form template for "Ajouter site"-->
<script type="text/ng-template" id="add_site_modal">
  <div class="modal-header">
    <h4>Formulaire site</h4>
  </div>
  <div class="modal-body">
    <div>
    <!--<alert ng-repeat="alert in alerts" type="alert.type" close="closeAlert($index)">{{alert.msg}}</alert>-->
    <form name="SiteForm">
      <div class="form-group">
        <label for="nomDomaine">Nom de domaine</label>
        <input type="text" class="form-control" id="nomDomaine" placeholder="Entrer nom de domaine">
      </div>
      <div class="form-group">
        <label for="ip">IP</label>
        <input type="text" class="form-control" id="ip" placeholder="Entrer IP">
      </div>
      <div class="form-group">
        <label for="port">Port</label>
        <input type="text" class="form-control" id="port" placeholder="Entrer port">
      </div>
      <div class="form-group">
        <label for="msgError">Message d'erreur</label>
       <textarea type="textarea" class="form-control" id="msgError" placeholder="Entrer message d'erreur ..."/>
      </div>
      <div class="form-group">
        <label for="mode">Mode</label>
        <select id="mode" class="form-control">
          <option>Learning</option>
          <option>Blocking</option>
        </select>
      </div>
      <div class="form-group">
        <button type="button" class="btn btn-primary" ng-model="isSelected" btn-checkbox btn-checkbox-true="true" btn-checkbox-false="false">
          HTTPS
        </button>
      </div>
      <div collapse="!isSelected">
        <div class="form-group">
          <label for="cert">Certificat RSA</label>
          <textarea type="textarea" class="form-control" id="cert" placeholder="Entrer certificat RSA ..."/>
        </div>
        <div class="form-group">
          <label for="pKey">Clé privé</label>
          <textarea type="textarea" class="form-control" id="pkey" placeholder="Entrer clé privé ..."/>
        </div>
      </div>

    </form>
    </div>
  </div>
  <div class="modal-footer">
    <button ng-click="save()" ng-if="user.id"  class="btn btn-primary"><i class="icon-white icon-plus"></i> Enregistrer</button>
    <button ng-click="add()" type="submit"  class="btn btn-primary"><i class="icon-white icon-plus"></i> Ajouter</button>
    <button ng-click="cancel()" class="btn">Annuler</button>
  </div>
</script>
  <section>

    <button ng-click="open()" class="btn btn-primary pull-right"><span class="glyghicon glyghicon-plus"/></button>
  </section>
</div>
