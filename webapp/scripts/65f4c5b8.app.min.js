"use strict";angular.module("mgcrea.WafApp",["ui.bootstrap","smart-table","ngAnimate","ngRoute","frapontillo.bootstrap-switch","mgcrea.ngStrap"]).constant("version","v0.1.0").config(["$locationProvider","$routeProvider","$httpProvider",function(a,b,c){c.defaults.useXDomain=!0,delete c.defaults.headers.common["X-Requested-With"],a.html5Mode(!1),b.when("/",{templateUrl:"views/home.html"}).when("/etat",{templateUrl:"../views/etat.html"}).when("/manage",{templateUrl:"../views/manage.html"}).when("/whitelists",{templateUrl:"../views/whitelists.html"}).when("/journalisation",{templateUrl:"../views/journalisation.html"}).otherwise({redirectTo:"/"})}]);var myApp=angular.module("mgcrea.WafApp");myApp.controller("MainCtrl",["$scope","$location","version",function(a,b,c){a.$path=b.path.bind(b),a.version=c}]),myApp.controller("EtatCtrl",["$scope","$http","$log","alertService",function(a,b,c,d){a.isSelected="",a.onText="ON",a.offText="OFF",a.isActive=!0,a.size="large",a.animate=!0,a.radioOff=!0,a.handleWidth="auto",a.labelWidth="auto",a.inverse=!0,a.$watch("isSelected",function(){c.info("selected");var a=b({method:"POST",url:"http://localhost:8080/status",data:'{"nginx":"kada","haproxy":"kada"}'});a.success(function(a){d.addAlert("success",a)}),a.error(function(a){d.addAlert("danger",a)})})}]),myApp.directive("bootstrapSwitch",[function(){return{restrict:"A",require:"?ngModel",link:function(a,b,c,d){b.bootstrapSwitch(),b.on("switchChange.bootstrapSwitch",function(b,c){d&&a.$apply(function(){d.$setViewValue(c)})}),a.$watch(c.ngModel,function(a){a?b.bootstrapSwitch("state",!0,!0):b.bootstrapSwitch("state",!1,!0)})}}}]),myApp.service("alertService",["$timeout",function(a){var b=[];this.alerts=function(){return b},this.addAlert=function(c,d){b.push({type:c,msg:d}),a(function(){b.splice(b.indexOf({type:c,msg:d}),1)},3e3)},this.deleteAlert=function(a){b.splice(a,1)}}]),myApp.controller("alertCtrl",["$scope","alertService",function(a,b){a.alerts=b.alerts(),a.closeAlert=function(a){b.deleteAlert(a)}}]);var myApp=angular.module("mgcrea.WafApp");myApp.controller("paginationCtrl",["$scope","Access",function(a,b){a.rowCollection=[],b.get(null,function(b){a.rowCollection=b}),a.itemsByPage=15}]),myApp.controller("DatepickerDemoCtrl",["$scope",function(a){a.today=function(b){a[b]=new Date},a.today(),a.clear=function(b){a[b]=null},a.open=function(b,c){b.preventDefault(),b.stopPropagation(),a[c]=c},a.dateOptions={formatYear:"yy",startingDay:1},a.format="dd.MM.yyyy"}]);